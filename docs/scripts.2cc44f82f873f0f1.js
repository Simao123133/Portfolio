!function(Y,O){"object"==typeof exports&&typeof module<"u"?module.exports=O():"function"==typeof define&&define.amd?define(O):(Y=Y||self).GLightbox=O()}(this,function(){"use strict";function Y(n){return(Y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(i){return typeof i}:function(i){return i&&"function"==typeof Symbol&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i})(n)}function O(n,i){if(!(n instanceof i))throw new TypeError("Cannot call a class as a function")}function oe(n,i){for(var e=0;e<i.length;e++){var t=i[e];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(n,t.key,t)}}function q(n,i,e){return i&&oe(n.prototype,i),e&&oe(n,e),n}var he=Date.now();function D(){var n={},i=!0,e=0,t=arguments.length;"[object Boolean]"===Object.prototype.toString.call(arguments[0])&&(i=arguments[0],e++);for(var s=function(l){for(var o in l)Object.prototype.hasOwnProperty.call(l,o)&&(n[o]=i&&"[object Object]"===Object.prototype.toString.call(l[o])?D(!0,n[o],l[o]):l[o])};e<t;e++){var r=arguments[e];s(r)}return n}function x(n,i){if((X(n)||n===window||n===document)&&(n=[n]),!ve(n)&&!G(n)&&(n=[n]),0!=pe(n))if(ve(n)&&!G(n))for(var e=n.length,t=0;t<e&&!1!==i.call(n[t],n[t],t,n);t++);else if(G(n))for(var s in n)if(w(n,s)&&!1===i.call(n[s],n[s],s,n))break}function de(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,t=n[he]=n[he]||[],s={all:t,evt:null,found:null};return i&&e&&pe(t)>0&&x(t,function(r,a){if(r.eventName==i&&r.fn.toString()==e.toString())return s.found=!0,s.evt=a,!1}),s}function M(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=i.onElement,t=i.withCallback,s=i.avoidDuplicate,r=void 0===s||s,a=i.once,l=void 0!==a&&a,o=i.useCapture,h=void 0!==o&&o,d=arguments.length>2?arguments[2]:void 0,u=e||[];function c(f){p(t)&&t.call(d,f,this),l&&c.destroy()}return R(u)&&(u=document.querySelectorAll(u)),c.destroy=function(){x(u,function(f){var v=de(f,n,c);v.found&&v.all.splice(v.evt,1),f.removeEventListener&&f.removeEventListener(n,c,h)})},x(u,function(f){var v=de(f,n,c);(f.addEventListener&&r&&!v.found||!r)&&(f.addEventListener(n,c,h),v.all.push({eventName:n,fn:c}))}),c}function g(n,i){x(i.split(" "),function(e){return n.classList.add(e)})}function S(n,i){x(i.split(" "),function(e){return n.classList.remove(e)})}function k(n,i){return n.classList.contains(i)}function _(n,i){for(;n!==document.body;){if(!(n=n.parentElement))return!1;if("function"==typeof n.matches?n.matches(i):n.msMatchesSelector(i))return n}}function W(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",e=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!n||""===i)return!1;if("none"===i)return p(e)&&e(),!1;var t=Ee(),s=i.split(" ");x(s,function(r){g(n,"g"+r)}),M(t,{onElement:n,avoidDuplicate:!1,once:!0,withCallback:function(a,l){x(s,function(o){S(l,"g"+o)}),p(e)&&e()}})}function F(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(""===i)return n.style.webkitTransform="",n.style.MozTransform="",n.style.msTransform="",n.style.OTransform="",n.style.transform="",!1;n.style.webkitTransform=i,n.style.MozTransform=i,n.style.msTransform=i,n.style.OTransform=i,n.style.transform=i}function ue(n){n.style.display="block"}function ie(n){n.style.display="none"}function B(n){var i=document.createDocumentFragment(),e=document.createElement("div");for(e.innerHTML=n;e.firstChild;)i.appendChild(e.firstChild);return i}function ce(){return{width:window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,height:window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight}}function Ee(){var n,i=document.createElement("fakeelement"),e={animation:"animationend",OAnimation:"oAnimationEnd",MozAnimation:"animationend",WebkitAnimation:"webkitAnimationEnd"};for(n in e)if(void 0!==i.style[n])return e[n]}function ne(n,i,e,t){if(n())i();else{e||(e=100);var s,r=setInterval(function(){!n()||(clearInterval(r),s&&clearTimeout(s),i())},e);t&&(s=setTimeout(function(){clearInterval(r)},t))}}function fe(n,i,e){if(P(n))console.error("Inject assets error");else if(p(i)&&(e=i,i=!1),R(i)&&i in window)p(e)&&e();else{var t;if(-1!==n.indexOf(".css")){if((t=document.querySelectorAll('link[href="'+n+'"]'))&&t.length>0)return void(p(e)&&e());var s=document.getElementsByTagName("head")[0],r=s.querySelectorAll('link[rel="stylesheet"]'),a=document.createElement("link");return a.rel="stylesheet",a.type="text/css",a.href=n,a.media="all",r?s.insertBefore(a,r[0]):s.appendChild(a),void(p(e)&&e())}if((t=document.querySelectorAll('script[src="'+n+'"]'))&&t.length>0){if(p(e)){if(R(i))return ne(function(){return typeof window[i]<"u"},function(){e()}),!1;e()}}else{var l=document.createElement("script");l.type="text/javascript",l.src=n,l.onload=function(){if(p(e)){if(R(i))return ne(function(){return typeof window[i]<"u"},function(){e()}),!1;e()}},document.body.appendChild(l)}}}function se(){return"navigator"in window&&window.navigator.userAgent.match(/(iPad)|(iPhone)|(iPod)|(Android)|(PlayBook)|(BB10)|(BlackBerry)|(Opera Mini)|(IEMobile)|(webOS)|(MeeGo)/i)}function p(n){return"function"==typeof n}function R(n){return"string"==typeof n}function X(n){return!(!n||!n.nodeType||1!=n.nodeType)}function ge(n){return Array.isArray(n)}function ve(n){return n&&n.length&&isFinite(n.length)}function G(n){return"object"===Y(n)&&null!=n&&!p(n)&&!ge(n)}function P(n){return null==n}function w(n,i){return null!==n&&hasOwnProperty.call(n,i)}function pe(n){if(G(n)){if(n.keys)return n.keys().length;var i=0;for(var e in n)w(n,e)&&i++;return i}return n.length}function U(n){return!isNaN(parseFloat(n))&&isFinite(n)}function me(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,i=document.querySelectorAll(".gbtn[data-taborder]:not(.disabled)");if(!i.length)return!1;if(1==i.length)return i[0];"string"==typeof n&&(n=parseInt(n));var e=[];x(i,function(l){e.push(l.getAttribute("data-taborder"))});var t=Math.max.apply(Math,e.map(function(l){return parseInt(l)})),s=n<0?1:n+1;s>t&&(s="1");var r=e.filter(function(l){return l>=parseInt(s)}),a=r.sort()[0];return document.querySelector('.gbtn[data-taborder="'.concat(a,'"]'))}function Le(n){if(n.events.hasOwnProperty("keyboard"))return!1;n.events.keyboard=M("keydown",{onElement:window,withCallback:function(e,t){var s=(e=e||window.event).keyCode;if(9==s){var r=document.querySelector(".gbtn.focused");if(!r){var a=!(!document.activeElement||!document.activeElement.nodeName)&&document.activeElement.nodeName.toLocaleLowerCase();if("input"==a||"textarea"==a||"button"==a)return}e.preventDefault();var l=document.querySelectorAll(".gbtn[data-taborder]");if(!l||l.length<=0)return;if(!r){var o=me();return void(o&&(o.focus(),g(o,"focused")))}var d=me(r.getAttribute("data-taborder"));S(r,"focused"),d&&(d.focus(),g(d,"focused"))}39==s&&n.nextSlide(),37==s&&n.prevSlide(),27==s&&n.close()}})}function J(n){return Math.sqrt(n.x*n.x+n.y*n.y)}var ze=function(){function n(i){O(this,n),this.handlers=[],this.el=i}return q(n,[{key:"add",value:function(e){this.handlers.push(e)}},{key:"del",value:function(e){e||(this.handlers=[]);for(var t=this.handlers.length;t>=0;t--)this.handlers[t]===e&&this.handlers.splice(t,1)}},{key:"dispatch",value:function(){for(var e=0,t=this.handlers.length;e<t;e++){var s=this.handlers[e];"function"==typeof s&&s.apply(this.el,arguments)}}}]),n}();function A(n,i){var e=new ze(n);return e.add(i),e}var De=function(){function n(i,e){O(this,n),this.element="string"==typeof i?document.querySelector(i):i,this.start=this.start.bind(this),this.move=this.move.bind(this),this.end=this.end.bind(this),this.cancel=this.cancel.bind(this),this.element.addEventListener("touchstart",this.start,!1),this.element.addEventListener("touchmove",this.move,!1),this.element.addEventListener("touchend",this.end,!1),this.element.addEventListener("touchcancel",this.cancel,!1),this.preV={x:null,y:null},this.pinchStartLen=null,this.zoom=1,this.isDoubleTap=!1;var t=function(){};this.rotate=A(this.element,e.rotate||t),this.touchStart=A(this.element,e.touchStart||t),this.multipointStart=A(this.element,e.multipointStart||t),this.multipointEnd=A(this.element,e.multipointEnd||t),this.pinch=A(this.element,e.pinch||t),this.swipe=A(this.element,e.swipe||t),this.tap=A(this.element,e.tap||t),this.doubleTap=A(this.element,e.doubleTap||t),this.longTap=A(this.element,e.longTap||t),this.singleTap=A(this.element,e.singleTap||t),this.pressMove=A(this.element,e.pressMove||t),this.twoFingerPressMove=A(this.element,e.twoFingerPressMove||t),this.touchMove=A(this.element,e.touchMove||t),this.touchEnd=A(this.element,e.touchEnd||t),this.touchCancel=A(this.element,e.touchCancel||t),this.translateContainer=this.element,this._cancelAllHandler=this.cancelAll.bind(this),window.addEventListener("scroll",this._cancelAllHandler),this.delta=null,this.last=null,this.now=null,this.tapTimeout=null,this.singleTapTimeout=null,this.longTapTimeout=null,this.swipeTimeout=null,this.x1=this.x2=this.y1=this.y2=null,this.preTapPosition={x:null,y:null}}return q(n,[{key:"start",value:function(e){if(e.touches){if(e.target&&e.target.nodeName&&["a","button","input"].indexOf(e.target.nodeName.toLowerCase())>=0)return void console.log("ignore drag for this touched element",e.target.nodeName.toLowerCase());this.now=Date.now(),this.x1=e.touches[0].pageX,this.y1=e.touches[0].pageY,this.delta=this.now-(this.last||this.now),this.touchStart.dispatch(e,this.element),null!==this.preTapPosition.x&&(this.isDoubleTap=this.delta>0&&this.delta<=250&&Math.abs(this.preTapPosition.x-this.x1)<30&&Math.abs(this.preTapPosition.y-this.y1)<30,this.isDoubleTap&&clearTimeout(this.singleTapTimeout)),this.preTapPosition.x=this.x1,this.preTapPosition.y=this.y1,this.last=this.now;var s=this.preV;if(e.touches.length>1){this._cancelLongTap(),this._cancelSingleTap();var a={x:e.touches[1].pageX-this.x1,y:e.touches[1].pageY-this.y1};s.x=a.x,s.y=a.y,this.pinchStartLen=J(s),this.multipointStart.dispatch(e,this.element)}this._preventTap=!1,this.longTapTimeout=setTimeout(function(){this.longTap.dispatch(e,this.element),this._preventTap=!0}.bind(this),750)}}},{key:"move",value:function(e){if(e.touches){var t=this.preV,s=e.touches.length,r=e.touches[0].pageX,a=e.touches[0].pageY;if(this.isDoubleTap=!1,s>1){var l=e.touches[1].pageX,o=e.touches[1].pageY,h={x:e.touches[1].pageX-r,y:e.touches[1].pageY-a};null!==t.x&&(this.pinchStartLen>0&&(e.zoom=J(h)/this.pinchStartLen,this.pinch.dispatch(e,this.element)),e.angle=function _e(n,i){var e=function Me(n,i){var e=J(n)*J(i);if(0===e)return 0;var t=function Pe(n,i){return n.x*i.x+n.y*i.y}(n,i)/e;return t>1&&(t=1),Math.acos(t)}(n,i);return function Oe(n,i){return n.x*i.y-i.x*n.y}(n,i)>0&&(e*=-1),180*e/Math.PI}(h,t),this.rotate.dispatch(e,this.element)),t.x=h.x,t.y=h.y,null!==this.x2&&null!==this.sx2?(e.deltaX=(r-this.x2+l-this.sx2)/2,e.deltaY=(a-this.y2+o-this.sy2)/2):(e.deltaX=0,e.deltaY=0),this.twoFingerPressMove.dispatch(e,this.element),this.sx2=l,this.sy2=o}else{if(null!==this.x2){e.deltaX=r-this.x2,e.deltaY=a-this.y2;var d=Math.abs(this.x1-this.x2),u=Math.abs(this.y1-this.y2);(d>10||u>10)&&(this._preventTap=!0)}else e.deltaX=0,e.deltaY=0;this.pressMove.dispatch(e,this.element)}this.touchMove.dispatch(e,this.element),this._cancelLongTap(),this.x2=r,this.y2=a,s>1&&e.preventDefault()}}},{key:"end",value:function(e){if(e.changedTouches){this._cancelLongTap();var t=this;e.touches.length<2&&(this.multipointEnd.dispatch(e,this.element),this.sx2=this.sy2=null),this.x2&&Math.abs(this.x1-this.x2)>30||this.y2&&Math.abs(this.y1-this.y2)>30?(e.direction=this._swipeDirection(this.x1,this.x2,this.y1,this.y2),this.swipeTimeout=setTimeout(function(){t.swipe.dispatch(e,t.element)},0)):(this.tapTimeout=setTimeout(function(){t._preventTap||t.tap.dispatch(e,t.element),t.isDoubleTap&&(t.doubleTap.dispatch(e,t.element),t.isDoubleTap=!1)},0),t.isDoubleTap||(t.singleTapTimeout=setTimeout(function(){t.singleTap.dispatch(e,t.element)},250))),this.touchEnd.dispatch(e,this.element),this.preV.x=0,this.preV.y=0,this.zoom=1,this.pinchStartLen=null,this.x1=this.x2=this.y1=this.y2=null}}},{key:"cancelAll",value:function(){this._preventTap=!0,clearTimeout(this.singleTapTimeout),clearTimeout(this.tapTimeout),clearTimeout(this.longTapTimeout),clearTimeout(this.swipeTimeout)}},{key:"cancel",value:function(e){this.cancelAll(),this.touchCancel.dispatch(e,this.element)}},{key:"_cancelLongTap",value:function(){clearTimeout(this.longTapTimeout)}},{key:"_cancelSingleTap",value:function(){clearTimeout(this.singleTapTimeout)}},{key:"_swipeDirection",value:function(e,t,s,r){return Math.abs(e-t)>=Math.abs(s-r)?e-t>0?"Left":"Right":s-r>0?"Up":"Down"}},{key:"on",value:function(e,t){this[e]&&this[e].add(t)}},{key:"off",value:function(e,t){this[e]&&this[e].del(t)}},{key:"destroy",value:function(){return this.singleTapTimeout&&clearTimeout(this.singleTapTimeout),this.tapTimeout&&clearTimeout(this.tapTimeout),this.longTapTimeout&&clearTimeout(this.longTapTimeout),this.swipeTimeout&&clearTimeout(this.swipeTimeout),this.element.removeEventListener("touchstart",this.start),this.element.removeEventListener("touchmove",this.move),this.element.removeEventListener("touchend",this.end),this.element.removeEventListener("touchcancel",this.cancel),this.rotate.del(),this.touchStart.del(),this.multipointStart.del(),this.multipointEnd.del(),this.pinch.del(),this.swipe.del(),this.tap.del(),this.doubleTap.del(),this.longTap.del(),this.singleTap.del(),this.pressMove.del(),this.twoFingerPressMove.del(),this.touchMove.del(),this.touchEnd.del(),this.touchCancel.del(),this.preV=this.pinchStartLen=this.zoom=this.isDoubleTap=this.delta=this.last=this.now=this.tapTimeout=this.singleTapTimeout=this.longTapTimeout=this.swipeTimeout=this.x1=this.x2=this.y1=this.y2=this.preTapPosition=this.rotate=this.touchStart=this.multipointStart=this.multipointEnd=this.pinch=this.swipe=this.tap=this.doubleTap=this.longTap=this.singleTap=this.pressMove=this.touchMove=this.touchEnd=this.touchCancel=this.twoFingerPressMove=null,window.removeEventListener("scroll",this._cancelAllHandler),null}}]),n}();function re(n){var i=function ke(){var n,i=document.createElement("fakeelement"),e={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(n in e)if(void 0!==i.style[n])return e[n]}(),e=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,t=k(n,"gslide-media")?n:n.querySelector(".gslide-media"),s=_(t,".ginner-container"),r=n.querySelector(".gslide-description");e>769&&(t=s),g(t,"greset"),F(t,"translate3d(0, 0, 0)"),M(i,{onElement:t,once:!0,withCallback:function(l,o){S(t,"greset")}}),t.style.opacity="",r&&(r.style.opacity="")}function Xe(n){if(n.events.hasOwnProperty("touch"))return!1;var C,L,le,i=ce(),e=i.width,t=i.height,s=!1,r=null,a=null,l=null,o=!1,h=1,u=1,c=!1,f=!1,v=null,E=null,y=null,b=null,I=0,N=0,j=!1,Z=!1,z={},H={},Te=0,Ce=0,Ze=document.getElementById("glightbox-slider"),K=document.querySelector(".goverlay"),$e=new De(Ze,{touchStart:function(m){if(s=!0,(k(m.targetTouches[0].target,"ginner-container")||_(m.targetTouches[0].target,".gslide-desc")||"a"==m.targetTouches[0].target.nodeName.toLowerCase())&&(s=!1),_(m.targetTouches[0].target,".gslide-inline")&&!k(m.targetTouches[0].target.parentNode,"gslide-inline")&&(s=!1),s){if(H=m.targetTouches[0],z.pageX=m.targetTouches[0].pageX,z.pageY=m.targetTouches[0].pageY,Te=m.targetTouches[0].clientX,Ce=m.targetTouches[0].clientY,a=(r=n.activeSlide).querySelector(".gslide-media"),le=r.querySelector(".gslide-inline"),l=null,k(a,"gslide-image")&&(l=a.querySelector("img")),(window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth)>769&&(a=r.querySelector(".ginner-container")),S(K,"greset"),m.pageX>20&&m.pageX<window.innerWidth-20)return;m.preventDefault()}},touchMove:function(m){if(s&&(H=m.targetTouches[0],!c&&!f)){if(le&&le.offsetHeight>t&&Math.abs(z.pageX-H.pageX)<=13)return!1;o=!0;var te,Fe=Ce-m.targetTouches[0].clientY;if(Math.abs(Te-m.targetTouches[0].clientX)>Math.abs(Fe)?(j=!1,Z=!0):(Z=!1,j=!0),I=100*(C=H.pageX-z.pageX)/e,N=100*(L=H.pageY-z.pageY)/t,j&&l&&(te=1-Math.abs(L)/t,K.style.opacity=te,n.settings.touchFollowAxis&&(I=0)),Z&&(te=1-Math.abs(C)/e,a.style.opacity=te,n.settings.touchFollowAxis&&(N=0)),!l)return F(a,"translate3d(".concat(I,"%, 0, 0)"));F(a,"translate3d(".concat(I,"%, ").concat(N,"%, 0)"))}},touchEnd:function(){if(s){if(o=!1,f||c)return y=v,void(b=E);var m=Math.abs(parseInt(N)),T=Math.abs(parseInt(I));if(m>29&&l)return void n.close();if(m<29&&T<25)return g(K,"greset"),K.style.opacity=1,re(a)}},multipointEnd:function(){setTimeout(function(){c=!1},50)},multipointStart:function(){c=!0,h=u||1},pinch:function(m){if(!l||o)return!1;c=!0,l.scaleX=l.scaleY=h*m.zoom;var T=h*m.zoom;if(f=!0,T<=1)return f=!1,T=1,b=null,y=null,v=null,E=null,void l.setAttribute("style","");T>4.5&&(T=4.5),l.style.transform="scale3d(".concat(T,", ").concat(T,", 1)"),u=T},pressMove:function(m){if(f&&!c){var T=H.pageX-z.pageX,$=H.pageY-z.pageY;y&&(T+=y),b&&($+=b),v=T,E=$;var ee="translate3d(".concat(T,"px, ").concat($,"px, 0)");u&&(ee+=" scale3d(".concat(u,", ").concat(u,", 1)")),F(l,ee)}},swipe:function(m){if(!f){if(c)return void(c=!1);if("Left"==m.direction){if(n.index==n.elements.length-1)return re(a);n.nextSlide()}if("Right"==m.direction){if(0==n.index)return re(a);n.prevSlide()}}}});n.events.touch=$e}var Ye=function(){function n(i,e){var t=this,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(O(this,n),this.img=i,this.slide=e,this.onclose=s,this.img.setZoomEvents)return!1;this.active=!1,this.zoomedIn=!1,this.dragging=!1,this.currentX=null,this.currentY=null,this.initialX=null,this.initialY=null,this.xOffset=0,this.yOffset=0,this.img.addEventListener("mousedown",function(r){return t.dragStart(r)},!1),this.img.addEventListener("mouseup",function(r){return t.dragEnd(r)},!1),this.img.addEventListener("mousemove",function(r){return t.drag(r)},!1),this.img.addEventListener("click",function(r){return t.slide.classList.contains("dragging-nav")?(t.zoomOut(),!1):t.zoomedIn?void(t.zoomedIn&&!t.dragging&&t.zoomOut()):t.zoomIn()},!1),this.img.setZoomEvents=!0}return q(n,[{key:"zoomIn",value:function(){var e=this.widowWidth();if(!(this.zoomedIn||e<=768)){var t=this.img;t.setAttribute("data-style",t.getAttribute("style")),t.style.maxWidth=t.naturalWidth+"px",t.style.maxHeight=t.naturalHeight+"px",t.naturalWidth>e&&this.setTranslate(this.img.parentNode,e/2-t.naturalWidth/2,0),this.slide.classList.add("zoomed"),this.zoomedIn=!0}}},{key:"zoomOut",value:function(){this.img.parentNode.setAttribute("style",""),this.img.setAttribute("style",this.img.getAttribute("data-style")),this.slide.classList.remove("zoomed"),this.zoomedIn=!1,this.currentX=null,this.currentY=null,this.initialX=null,this.initialY=null,this.xOffset=0,this.yOffset=0,this.onclose&&"function"==typeof this.onclose&&this.onclose()}},{key:"dragStart",value:function(e){e.preventDefault(),this.zoomedIn?("touchstart"===e.type?(this.initialX=e.touches[0].clientX-this.xOffset,this.initialY=e.touches[0].clientY-this.yOffset):(this.initialX=e.clientX-this.xOffset,this.initialY=e.clientY-this.yOffset),e.target===this.img&&(this.active=!0,this.img.classList.add("dragging"))):this.active=!1}},{key:"dragEnd",value:function(e){var t=this;e.preventDefault(),this.initialX=this.currentX,this.initialY=this.currentY,this.active=!1,setTimeout(function(){t.dragging=!1,t.img.isDragging=!1,t.img.classList.remove("dragging")},100)}},{key:"drag",value:function(e){this.active&&(e.preventDefault(),"touchmove"===e.type?(this.currentX=e.touches[0].clientX-this.initialX,this.currentY=e.touches[0].clientY-this.initialY):(this.currentX=e.clientX-this.initialX,this.currentY=e.clientY-this.initialY),this.xOffset=this.currentX,this.yOffset=this.currentY,this.img.isDragging=!0,this.dragging=!0,this.setTranslate(this.img,this.currentX,this.currentY))}},{key:"onMove",value:function(e){this.zoomedIn&&this.setTranslate(this.img,e.clientX-this.img.naturalWidth/2,e.clientY-this.img.naturalHeight/2)}},{key:"setTranslate",value:function(e,t,s){e.style.transform="translate3d("+t+"px, "+s+"px, 0)"}},{key:"widowWidth",value:function(){return window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth}}]),n}(),ye=function(){function n(){var i=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};O(this,n);var t=e.dragEl,s=e.toleranceX,r=void 0===s?40:s,a=e.toleranceY,l=void 0===a?65:a,o=e.slide,h=void 0===o?null:o,d=e.instance,u=void 0===d?null:d;this.el=t,this.active=!1,this.dragging=!1,this.currentX=null,this.currentY=null,this.initialX=null,this.initialY=null,this.xOffset=0,this.yOffset=0,this.direction=null,this.lastDirection=null,this.toleranceX=r,this.toleranceY=l,this.toleranceReached=!1,this.dragContainer=this.el,this.slide=h,this.instance=u,this.el.addEventListener("mousedown",function(c){return i.dragStart(c)},!1),this.el.addEventListener("mouseup",function(c){return i.dragEnd(c)},!1),this.el.addEventListener("mousemove",function(c){return i.drag(c)},!1)}return q(n,[{key:"dragStart",value:function(e){if(this.slide.classList.contains("zoomed"))this.active=!1;else{"touchstart"===e.type?(this.initialX=e.touches[0].clientX-this.xOffset,this.initialY=e.touches[0].clientY-this.yOffset):(this.initialX=e.clientX-this.xOffset,this.initialY=e.clientY-this.yOffset);var t=e.target.nodeName.toLowerCase();e.target.classList.contains("nodrag")||_(e.target,".nodrag")||-1!==["input","select","textarea","button","a"].indexOf(t)?this.active=!1:(e.preventDefault(),(e.target===this.el||"img"!==t&&_(e.target,".gslide-inline"))&&(this.active=!0,this.el.classList.add("dragging"),this.dragContainer=_(e.target,".ginner-container")))}}},{key:"dragEnd",value:function(e){var t=this;e&&e.preventDefault(),this.initialX=0,this.initialY=0,this.currentX=null,this.currentY=null,this.initialX=null,this.initialY=null,this.xOffset=0,this.yOffset=0,this.active=!1,this.doSlideChange&&(this.instance.preventOutsideClick=!0,"right"==this.doSlideChange&&this.instance.prevSlide(),"left"==this.doSlideChange&&this.instance.nextSlide()),this.doSlideClose&&this.instance.close(),this.toleranceReached||this.setTranslate(this.dragContainer,0,0,!0),setTimeout(function(){t.instance.preventOutsideClick=!1,t.toleranceReached=!1,t.lastDirection=null,t.dragging=!1,t.el.isDragging=!1,t.el.classList.remove("dragging"),t.slide.classList.remove("dragging-nav"),t.dragContainer.style.transform="",t.dragContainer.style.transition=""},100)}},{key:"drag",value:function(e){if(this.active){e.preventDefault(),this.slide.classList.add("dragging-nav"),"touchmove"===e.type?(this.currentX=e.touches[0].clientX-this.initialX,this.currentY=e.touches[0].clientY-this.initialY):(this.currentX=e.clientX-this.initialX,this.currentY=e.clientY-this.initialY),this.xOffset=this.currentX,this.yOffset=this.currentY,this.el.isDragging=!0,this.dragging=!0,this.doSlideChange=!1,this.doSlideClose=!1;var t=Math.abs(this.currentX),s=Math.abs(this.currentY);if(t>0&&t>=Math.abs(this.currentY)&&(!this.lastDirection||"x"==this.lastDirection)){this.yOffset=0,this.lastDirection="x",this.setTranslate(this.dragContainer,this.currentX,0);var r=this.shouldChange();if(!this.instance.settings.dragAutoSnap&&r&&(this.doSlideChange=r),this.instance.settings.dragAutoSnap&&r)return this.instance.preventOutsideClick=!0,this.toleranceReached=!0,this.active=!1,this.instance.preventOutsideClick=!0,this.dragEnd(null),"right"==r&&this.instance.prevSlide(),void("left"==r&&this.instance.nextSlide())}if(this.toleranceY>0&&s>0&&s>=t&&(!this.lastDirection||"y"==this.lastDirection)){this.xOffset=0,this.lastDirection="y",this.setTranslate(this.dragContainer,0,this.currentY);var a=this.shouldClose();return!this.instance.settings.dragAutoSnap&&a&&(this.doSlideClose=!0),void(this.instance.settings.dragAutoSnap&&a&&this.instance.close())}}}},{key:"shouldChange",value:function(){var e=!1;if(Math.abs(this.currentX)>=this.toleranceX){var s=this.currentX>0?"right":"left";("left"==s&&this.slide!==this.slide.parentNode.lastChild||"right"==s&&this.slide!==this.slide.parentNode.firstChild)&&(e=s)}return e}},{key:"shouldClose",value:function(){var e=!1;return Math.abs(this.currentY)>=this.toleranceY&&(e=!0),e}},{key:"setTranslate",value:function(e,t,s){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];e.style.transition=r?"all .2s ease":"",e.style.transform="translate3d(".concat(t,"px, ").concat(s,"px, 0)")}}]),n}();function Ne(n,i,e,t){var s=n.querySelector(".gslide-media"),r=new Image,a="gSlideTitle_"+e,l="gSlideDesc_"+e;r.addEventListener("load",function(){p(t)&&t()},!1),r.src=i.href,""!=i.sizes&&""!=i.srcset&&(r.sizes=i.sizes,r.srcset=i.srcset),r.alt="",!P(i.alt)&&""!==i.alt&&(r.alt=i.alt),""!==i.title&&r.setAttribute("aria-labelledby",a),""!==i.description&&r.setAttribute("aria-describedby",l),i.hasOwnProperty("_hasCustomWidth")&&i._hasCustomWidth&&(r.style.width=i.width),i.hasOwnProperty("_hasCustomHeight")&&i._hasCustomHeight&&(r.style.height=i.height),s.insertBefore(r,s.firstChild)}function qe(n,i,e,t){var s=this,r=n.querySelector(".ginner-container"),a="gvideo"+e,l=n.querySelector(".gslide-media"),o=this.getAllPlayers();g(r,"gvideo-container"),l.insertBefore(B('<div class="gvideo-wrapper"></div>'),l.firstChild);var h=n.querySelector(".gvideo-wrapper");fe(this.settings.plyr.css,"Plyr");var d=i.href,u=i?.videoProvider,c=!1;l.style.maxWidth=i.width,fe(this.settings.plyr.js,"Plyr",function(){if(!u&&d.match(/vimeo\.com\/([0-9]*)/)&&(u="vimeo"),!u&&(d.match(/(youtube\.com|youtube-nocookie\.com)\/watch\?v=([a-zA-Z0-9\-_]+)/)||d.match(/youtu\.be\/([a-zA-Z0-9\-_]+)/)||d.match(/(youtube\.com|youtube-nocookie\.com)\/embed\/([a-zA-Z0-9\-_]+)/))&&(u="youtube"),"local"===u||!u){u="local";var f='<video id="'+a+'" ';f+='style="background:#000; max-width: '.concat(i.width,';" '),f+='preload="metadata" ',f+='x-webkit-airplay="allow" ',f+="playsinline ",f+="controls ",f+='class="gvideo-local">',f+='<source src="'.concat(d,'">'),c=B(f+="</video>")}var v=c||B('<div id="'.concat(a,'" data-plyr-provider="').concat(u,'" data-plyr-embed-id="').concat(d,'"></div>'));g(h,"".concat(u,"-video gvideo")),h.appendChild(v),h.setAttribute("data-id",a),h.setAttribute("data-index",e);var E=w(s.settings.plyr,"config")?s.settings.plyr.config:{},y=new Plyr("#"+a,E);y.on("ready",function(b){o[a]=b.detail.plyr,p(t)&&t()}),ne(function(){return n.querySelector("iframe")&&"true"==n.querySelector("iframe").dataset.ready},function(){s.resize(n)}),y.on("enterfullscreen",xe),y.on("exitfullscreen",xe)})}function xe(n){var i=_(n.target,".gslide-media");"enterfullscreen"===n.type&&g(i,"fullscreen"),"exitfullscreen"===n.type&&S(i,"fullscreen")}function Be(n,i,e,t){var o,s=this,r=n.querySelector(".gslide-media"),a=!(!w(i,"href")||!i.href)&&i.href.split("#").pop().trim(),l=!(!w(i,"content")||!i.content)&&i.content;if(l&&(R(l)&&(o=B('<div class="ginlined-content">'.concat(l,"</div>"))),X(l))){"none"==l.style.display&&(l.style.display="block");var h=document.createElement("div");h.className="ginlined-content",h.appendChild(l),o=h}if(a){var d=document.getElementById(a);if(!d)return!1;var u=d.cloneNode(!0);u.style.height=i.height,u.style.maxWidth=i.width,g(u,"ginlined-content"),o=u}if(!o)return console.error("Unable to append inline slide content",i),!1;r.style.height=i.height,r.style.width=i.width,r.appendChild(o),this.events["inlineclose"+a]=M("click",{onElement:r.querySelectorAll(".gtrigger-close"),withCallback:function(f){f.preventDefault(),s.close()}}),p(t)&&t()}function He(n,i,e,t){var s=n.querySelector(".gslide-media"),r=function Ae(n){var i=n.url,e=n.allow,t=n.callback,s=n.appendTo,r=document.createElement("iframe");return r.className="vimeo-video gvideo",r.src=i,r.style.width="100%",r.style.height="100%",e&&r.setAttribute("allow",e),r.onload=function(){r.onload=null,g(r,"node-ready"),p(t)&&t()},s&&s.appendChild(r),r}({url:i.href,callback:t});s.parentNode.style.maxWidth=i.width,s.parentNode.style.height=i.height,s.appendChild(r)}var Ve=function(){function n(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};O(this,n),this.defaults={href:"",sizes:"",srcset:"",title:"",type:"",videoProvider:"",description:"",alt:"",descPosition:"bottom",effect:"",width:"",height:"",content:!1,zoomable:!0,draggable:!0},G(i)&&(this.defaults=D(this.defaults,i))}return q(n,[{key:"sourceType",value:function(e){var t=e;return null!==(e=e.toLowerCase()).match(/\.(jpeg|jpg|jpe|gif|png|apn|webp|avif|svg)/)?"image":e.match(/(youtube\.com|youtube-nocookie\.com)\/watch\?v=([a-zA-Z0-9\-_]+)/)||e.match(/youtu\.be\/([a-zA-Z0-9\-_]+)/)||e.match(/(youtube\.com|youtube-nocookie\.com)\/embed\/([a-zA-Z0-9\-_]+)/)||e.match(/vimeo\.com\/([0-9]*)/)||null!==e.match(/\.(mp4|ogg|webm|mov)/)?"video":null!==e.match(/\.(mp3|wav|wma|aac|ogg)/)?"audio":e.indexOf("#")>-1&&""!==t.split("#").pop().trim()?"inline":e.indexOf("goajax=true")>-1?"ajax":"external"}},{key:"parseConfig",value:function(e,t){var s=this,r=D({descPosition:t.descPosition},this.defaults);if(G(e)&&!X(e)){w(e,"type")||(w(e,"content")&&e.content?e.type="inline":w(e,"href")&&(e.type=this.sourceType(e.href)));var a=D(r,e);return this.setSize(a,t),a}var l="",o=e.getAttribute("data-glightbox"),h=e.nodeName.toLowerCase();if("a"===h&&(l=e.href),"img"===h&&(l=e.src,r.alt=e.alt),r.href=l,x(r,function(E,y){w(t,y)&&"width"!==y&&(r[y]=t[y]);var b=e.dataset[y];P(b)||(r[y]=s.sanitizeValue(b))}),r.content&&(r.type="inline"),!r.type&&l&&(r.type=this.sourceType(l)),P(o)){if(!r.title&&"a"==h){var u=e.title;!P(u)&&""!==u&&(r.title=u)}if(!r.title&&"img"==h){var c=e.alt;!P(c)&&""!==c&&(r.title=c)}}else{var d=[];x(r,function(E,y){d.push(";\\s?"+y)}),d=d.join("\\s?:|"),""!==o.trim()&&x(r,function(E,y){var b=o,L=new RegExp("s?"+y+"s?:s?(.*?)("+d+"s?:|$)"),I=b.match(L);if(I&&I.length&&I[1]){var N=I[1].trim().replace(/;\s*$/,"");r[y]=s.sanitizeValue(N)}})}if(r.description&&"."===r.description.substring(0,1)){var f;try{f=document.querySelector(r.description).innerHTML}catch(E){if(!(E instanceof DOMException))throw E}f&&(r.description=f)}if(!r.description){var v=e.querySelector(".glightbox-desc");v&&(r.description=v.innerHTML)}return this.setSize(r,t,e),this.slideConfig=r,r}},{key:"setSize",value:function(e,t){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=this.checkSize("video"==e.type?t.videosWidth:t.width),a=this.checkSize(t.height);return e.width=w(e,"width")&&""!==e.width?this.checkSize(e.width):r,e.height=w(e,"height")&&""!==e.height?this.checkSize(e.height):a,s&&"image"==e.type&&(e._hasCustomWidth=!!s.dataset.width,e._hasCustomHeight=!!s.dataset.height),e}},{key:"checkSize",value:function(e){return U(e)?"".concat(e,"px"):e}},{key:"sanitizeValue",value:function(e){return"true"!==e&&"false"!==e?e:"true"===e}}]),n}(),Q=function(){function n(i,e,t){O(this,n),this.element=i,this.instance=e,this.index=t}return q(n,[{key:"setContent",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,s=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(k(t,"loaded"))return!1;var r=this.instance.settings,a=this.slideConfig,l=se();p(r.beforeSlideLoad)&&r.beforeSlideLoad({index:this.index,slide:t,player:!1});var o=a.type,h=a.descPosition,d=t.querySelector(".gslide-media"),u=t.querySelector(".gslide-title"),c=t.querySelector(".gslide-desc"),f=t.querySelector(".gdesc-inner"),v=s,E="gSlideTitle_"+this.index,y="gSlideDesc_"+this.index;if(p(r.afterSlideLoad)&&(v=function(){p(s)&&s(),r.afterSlideLoad({index:e.index,slide:t,player:e.instance.getSlidePlayerInstance(e.index)})}),""==a.title&&""==a.description?f&&f.parentNode.parentNode.removeChild(f.parentNode):(u&&""!==a.title?(u.id=E,u.innerHTML=a.title):u.parentNode.removeChild(u),c&&""!==a.description?(c.id=y,l&&r.moreLength>0?(a.smallDescription=this.slideShortDesc(a.description,r.moreLength,r.moreText),c.innerHTML=a.smallDescription,this.descriptionEvents(c,a)):c.innerHTML=a.description):c.parentNode.removeChild(c),g(d.parentNode,"desc-".concat(h)),g(f.parentNode,"description-".concat(h))),g(d,"gslide-".concat(o)),g(t,"loaded"),"video"!==o){if("external"!==o)return"inline"===o?(Be.apply(this.instance,[t,a,this.index,v]),void(a.draggable&&new ye({dragEl:t.querySelector(".gslide-inline"),toleranceX:r.dragToleranceX,toleranceY:r.dragToleranceY,slide:t,instance:this.instance}))):void("image"!==o?p(v)&&v():Ne(t,a,this.index,function(){var b=t.querySelector("img");a.draggable&&new ye({dragEl:b,toleranceX:r.dragToleranceX,toleranceY:r.dragToleranceY,slide:t,instance:e.instance}),a.zoomable&&b.naturalWidth>b.offsetWidth&&(g(b,"zoomable"),new Ye(b,t,function(){e.instance.resize()})),p(v)&&v()}));He.apply(this,[t,a,this.index,v])}else qe.apply(this.instance,[t,a,this.index,v])}},{key:"slideShortDesc",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50,s=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=document.createElement("div");r.innerHTML=e;var a=r.innerText,l=s;if((e=a.trim()).length<=t)return e;var o=e.substr(0,t-1);return l?(r=null,o+'... <a href="#" class="desc-more">'+s+"</a>"):o}},{key:"descriptionEvents",value:function(e,t){var s=this,r=e.querySelector(".desc-more");if(!r)return!1;M("click",{onElement:r,withCallback:function(l,o){l.preventDefault();var h=document.body,d=_(o,".gslide-desc");if(!d)return!1;d.innerHTML=t.description,g(h,"gdesc-open");var u=M("click",{onElement:[h,_(d,".gslide-description")],withCallback:function(f,v){"a"!==f.target.nodeName.toLowerCase()&&(S(h,"gdesc-open"),g(h,"gdesc-closed"),d.innerHTML=t.smallDescription,s.descriptionEvents(d,t),setTimeout(function(){S(h,"gdesc-closed")},400),u.destroy())}})}})}},{key:"create",value:function(){return B(this.instance.settings.slideHTML)}},{key:"getConfig",value:function(){!X(this.element)&&!this.element.hasOwnProperty("draggable")&&(this.element.draggable=this.instance.settings.draggable);var e=new Ve(this.instance.settings.slideExtraAttributes);return this.slideConfig=e.parseConfig(this.element,this.instance.settings),this.slideConfig}}]),n}(),be=se(),Se=function Ie(){return null!==se()||void 0!==document.createTouch||"ontouchstart"in window||"onmsgesturechange"in window||navigator.msMaxTouchPoints}(),we=document.getElementsByTagName("html")[0],ae={selector:".glightbox",elements:null,skin:"clean",theme:"clean",closeButton:!0,startAt:null,autoplayVideos:!0,autofocusVideos:!0,descPosition:"bottom",width:"900px",height:"506px",videosWidth:"960px",beforeSlideChange:null,afterSlideChange:null,beforeSlideLoad:null,afterSlideLoad:null,slideInserted:null,slideRemoved:null,slideExtraAttributes:null,onOpen:null,onClose:null,loop:!1,zoomable:!0,draggable:!0,dragAutoSnap:!1,dragToleranceX:40,dragToleranceY:65,preload:!0,oneSlidePerOpen:!1,touchNavigation:!0,touchFollowAxis:!0,keyboardNavigation:!0,closeOnOutsideClick:!0,plugins:!1,plyr:{css:"https://cdn.plyr.io/3.6.12/plyr.css",js:"https://cdn.plyr.io/3.6.12/plyr.js",config:{ratio:"16:9",fullscreen:{enabled:!0,iosNative:!0},youtube:{noCookie:!0,rel:0,showinfo:0,iv_load_policy:3},vimeo:{byline:!1,portrait:!1,title:!1,transparent:!1}}},openEffect:"zoom",closeEffect:"zoom",slideEffect:"slide",moreText:"See more",moreLength:60,cssEfects:{fade:{in:"fadeIn",out:"fadeOut"},zoom:{in:"zoomIn",out:"zoomOut"},slide:{in:"slideInRight",out:"slideOutLeft"},slideBack:{in:"slideInLeft",out:"slideOutRight"},none:{in:"none",out:"none"}},svg:{close:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 512 512" xml:space="preserve"><g><g><path d="M505.943,6.058c-8.077-8.077-21.172-8.077-29.249,0L6.058,476.693c-8.077,8.077-8.077,21.172,0,29.249C10.096,509.982,15.39,512,20.683,512c5.293,0,10.586-2.019,14.625-6.059L505.943,35.306C514.019,27.23,514.019,14.135,505.943,6.058z"/></g></g><g><g><path d="M505.942,476.694L35.306,6.059c-8.076-8.077-21.172-8.077-29.248,0c-8.077,8.076-8.077,21.171,0,29.248l470.636,470.636c4.038,4.039,9.332,6.058,14.625,6.058c5.293,0,10.587-2.019,14.624-6.057C514.018,497.866,514.018,484.771,505.942,476.694z"/></g></g></svg>',next:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 477.175 477.175" xml:space="preserve"> <g><path d="M360.731,229.075l-225.1-225.1c-5.3-5.3-13.8-5.3-19.1,0s-5.3,13.8,0,19.1l215.5,215.5l-215.5,215.5c-5.3,5.3-5.3,13.8,0,19.1c2.6,2.6,6.1,4,9.5,4c3.4,0,6.9-1.3,9.5-4l225.1-225.1C365.931,242.875,365.931,234.275,360.731,229.075z"/></g></svg>',prev:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 477.175 477.175" xml:space="preserve"><g><path d="M145.188,238.575l215.5-215.5c5.3-5.3,5.3-13.8,0-19.1s-13.8-5.3-19.1,0l-225.1,225.1c-5.3,5.3-5.3,13.8,0,19.1l225.1,225c2.6,2.6,6.1,4,9.5,4s6.9-1.3,9.5-4c5.3-5.3,5.3-13.8,0-19.1L145.188,238.575z"/></g></svg>'},slideHTML:'<div class="gslide">\n    <div class="gslide-inner-content">\n        <div class="ginner-container">\n            <div class="gslide-media">\n            </div>\n            <div class="gslide-description">\n                <div class="gdesc-inner">\n                    <h4 class="gslide-title"></h4>\n                    <div class="gslide-desc"></div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>',lightboxHTML:'<div id="glightbox-body" class="glightbox-container" tabindex="-1" role="dialog" aria-hidden="false">\n    <div class="gloader visible"></div>\n    <div class="goverlay"></div>\n    <div class="gcontainer">\n    <div id="glightbox-slider" class="gslider"></div>\n    <button class="gclose gbtn" aria-label="Close" data-taborder="3">{closeSVG}</button>\n    <button class="gprev gbtn" aria-label="Previous" data-taborder="2">{prevSVG}</button>\n    <button class="gnext gbtn" aria-label="Next" data-taborder="1">{nextSVG}</button>\n</div>\n</div>'},Ge=function(){function n(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};O(this,n),this.customOptions=i,this.settings=D(ae,i),this.effectsClasses=this.getAnimationClasses(),this.videoPlayers={},this.apiEvents=[],this.fullElementsList=!1}return q(n,[{key:"init",value:function(){var e=this,t=this.getSelector();t&&(this.baseEvents=M("click",{onElement:t,withCallback:function(r,a){r.preventDefault(),e.open(a)}})),this.elements=this.getElements()}},{key:"open",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(0===this.elements.length)return!1;this.activeSlide=null,this.prevActiveSlideIndex=null,this.prevActiveSlide=null;var s=U(t)?t:this.settings.startAt;if(X(e)){var r=e.getAttribute("data-gallery");r&&(this.fullElementsList=this.elements,this.elements=this.getGalleryElements(this.elements,r)),P(s)&&(s=this.getElementIndex(e))<0&&(s=0)}U(s)||(s=0),this.build(),W(this.overlay,"none"===this.settings.openEffect?"none":this.settings.cssEfects.fade.in);var a=document.body,l=window.innerWidth-document.documentElement.clientWidth;if(l>0){var o=document.createElement("style");o.type="text/css",o.className="gcss-styles",o.innerText=".gscrollbar-fixer {margin-right: ".concat(l,"px}"),document.head.appendChild(o),g(a,"gscrollbar-fixer")}g(a,"glightbox-open"),g(we,"glightbox-open"),be&&(g(document.body,"glightbox-mobile"),this.settings.slideEffect="slide"),this.showSlide(s,!0),1===this.elements.length?(g(this.prevButton,"glightbox-button-hidden"),g(this.nextButton,"glightbox-button-hidden")):(S(this.prevButton,"glightbox-button-hidden"),S(this.nextButton,"glightbox-button-hidden")),this.lightboxOpen=!0,this.trigger("open"),p(this.settings.onOpen)&&this.settings.onOpen(),Se&&this.settings.touchNavigation&&Xe(this),this.settings.keyboardNavigation&&Le(this)}},{key:"openAt",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.open(null,e)}},{key:"showSlide",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,s=arguments.length>1&&void 0!==arguments[1]&&arguments[1];ue(this.loader),this.index=parseInt(t);var r=this.slidesContainer.querySelector(".current");r&&S(r,"current"),this.slideAnimateOut();var a=this.slidesContainer.querySelectorAll(".gslide")[t];if(k(a,"loaded"))this.slideAnimateIn(a,s),ie(this.loader);else{ue(this.loader);var l=this.elements[t],o={index:this.index,slide:a,slideNode:a,slideConfig:l.slideConfig,slideIndex:this.index,trigger:l.node,player:null};this.trigger("slide_before_load",o),l.instance.setContent(a,function(){ie(e.loader),e.resize(),e.slideAnimateIn(a,s),e.trigger("slide_after_load",o)})}this.slideDescription=a.querySelector(".gslide-description"),this.slideDescriptionContained=this.slideDescription&&k(this.slideDescription.parentNode,"gslide-media"),this.settings.preload&&(this.preloadSlide(t+1),this.preloadSlide(t-1)),this.updateNavigationClasses(),this.activeSlide=a}},{key:"preloadSlide",value:function(e){var t=this;if(e<0||e>this.elements.length-1||P(this.elements[e]))return!1;var s=this.slidesContainer.querySelectorAll(".gslide")[e];if(k(s,"loaded"))return!1;var r=this.elements[e],a=r.type,l={index:e,slide:s,slideNode:s,slideConfig:r.slideConfig,slideIndex:e,trigger:r.node,player:null};this.trigger("slide_before_load",l),"video"===a||"external"===a?setTimeout(function(){r.instance.setContent(s,function(){t.trigger("slide_after_load",l)})},200):r.instance.setContent(s,function(){t.trigger("slide_after_load",l)})}},{key:"prevSlide",value:function(){this.goToSlide(this.index-1)}},{key:"nextSlide",value:function(){this.goToSlide(this.index+1)}},{key:"goToSlide",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.prevActiveSlide=this.activeSlide,this.prevActiveSlideIndex=this.index,!this.loop()&&(e<0||e>this.elements.length-1))return!1;e<0?e=this.elements.length-1:e>=this.elements.length&&(e=0),this.showSlide(e)}},{key:"insertSlide",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;t<0&&(t=this.elements.length);var s=new Q(e,this,t),r=s.getConfig(),a=D({},r),l=s.create(),o=this.elements.length-1;a.index=t,a.node=!1,a.instance=s,a.slideConfig=r,this.elements.splice(t,0,a);var h=null,d=null;if(this.slidesContainer){if(t>o)this.slidesContainer.appendChild(l);else{var u=this.slidesContainer.querySelectorAll(".gslide")[t];this.slidesContainer.insertBefore(l,u)}(this.settings.preload&&0==this.index&&0==t||this.index-1==t||this.index+1==t)&&this.preloadSlide(t),0===this.index&&0===t&&(this.index=1),this.updateNavigationClasses(),h=this.slidesContainer.querySelectorAll(".gslide")[t],d=this.getSlidePlayerInstance(t),a.slideNode=h}this.trigger("slide_inserted",{index:t,slide:h,slideNode:h,slideConfig:r,slideIndex:t,trigger:null,player:d}),p(this.settings.slideInserted)&&this.settings.slideInserted({index:t,slide:h,player:d})}},{key:"removeSlide",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;if(e<0||e>this.elements.length-1)return!1;var t=this.slidesContainer&&this.slidesContainer.querySelectorAll(".gslide")[e];t&&(this.getActiveSlideIndex()==e&&(e==this.elements.length-1?this.prevSlide():this.nextSlide()),t.parentNode.removeChild(t)),this.elements.splice(e,1),this.trigger("slide_removed",e),p(this.settings.slideRemoved)&&this.settings.slideRemoved(e)}},{key:"slideAnimateIn",value:function(e,t){var s=this,r=e.querySelector(".gslide-media"),a=e.querySelector(".gslide-description"),l={index:this.prevActiveSlideIndex,slide:this.prevActiveSlide,slideNode:this.prevActiveSlide,slideIndex:this.prevActiveSlide,slideConfig:P(this.prevActiveSlideIndex)?null:this.elements[this.prevActiveSlideIndex].slideConfig,trigger:P(this.prevActiveSlideIndex)?null:this.elements[this.prevActiveSlideIndex].node,player:this.getSlidePlayerInstance(this.prevActiveSlideIndex)},o={index:this.index,slide:this.activeSlide,slideNode:this.activeSlide,slideConfig:this.elements[this.index].slideConfig,slideIndex:this.index,trigger:this.elements[this.index].node,player:this.getSlidePlayerInstance(this.index)};if(r.offsetWidth>0&&a&&(ie(a),a.style.display=""),S(e,this.effectsClasses),t)W(e,this.settings.cssEfects[this.settings.openEffect].in,function(){s.settings.autoplayVideos&&s.slidePlayerPlay(e),s.trigger("slide_changed",{prev:l,current:o}),p(s.settings.afterSlideChange)&&s.settings.afterSlideChange.apply(s,[l,o])});else{var h=this.settings.slideEffect,d="none"!==h?this.settings.cssEfects[h].in:h;this.prevActiveSlideIndex>this.index&&"slide"==this.settings.slideEffect&&(d=this.settings.cssEfects.slideBack.in),W(e,d,function(){s.settings.autoplayVideos&&s.slidePlayerPlay(e),s.trigger("slide_changed",{prev:l,current:o}),p(s.settings.afterSlideChange)&&s.settings.afterSlideChange.apply(s,[l,o])})}setTimeout(function(){s.resize(e)},100),g(e,"current")}},{key:"slideAnimateOut",value:function(){if(!this.prevActiveSlide)return!1;var e=this.prevActiveSlide;S(e,this.effectsClasses),g(e,"prev");var t=this.settings.slideEffect,s="none"!==t?this.settings.cssEfects[t].out:t;this.slidePlayerPause(e),this.trigger("slide_before_change",{prev:{index:this.prevActiveSlideIndex,slide:this.prevActiveSlide,slideNode:this.prevActiveSlide,slideIndex:this.prevActiveSlideIndex,slideConfig:P(this.prevActiveSlideIndex)?null:this.elements[this.prevActiveSlideIndex].slideConfig,trigger:P(this.prevActiveSlideIndex)?null:this.elements[this.prevActiveSlideIndex].node,player:this.getSlidePlayerInstance(this.prevActiveSlideIndex)},current:{index:this.index,slide:this.activeSlide,slideNode:this.activeSlide,slideIndex:this.index,slideConfig:this.elements[this.index].slideConfig,trigger:this.elements[this.index].node,player:this.getSlidePlayerInstance(this.index)}}),p(this.settings.beforeSlideChange)&&this.settings.beforeSlideChange.apply(this,[{index:this.prevActiveSlideIndex,slide:this.prevActiveSlide,player:this.getSlidePlayerInstance(this.prevActiveSlideIndex)},{index:this.index,slide:this.activeSlide,player:this.getSlidePlayerInstance(this.index)}]),this.prevActiveSlideIndex>this.index&&"slide"==this.settings.slideEffect&&(s=this.settings.cssEfects.slideBack.out),W(e,s,function(){var r=e.querySelector(".ginner-container"),a=e.querySelector(".gslide-media"),l=e.querySelector(".gslide-description");r.style.transform="",a.style.transform="",S(a,"greset"),a.style.opacity="",l&&(l.style.opacity=""),S(e,"prev")})}},{key:"getAllPlayers",value:function(){return this.videoPlayers}},{key:"getSlidePlayerInstance",value:function(e){var t="gvideo"+e,s=this.getAllPlayers();return!(!w(s,t)||!s[t])&&s[t]}},{key:"stopSlideVideo",value:function(e){if(X(e)){var t=e.querySelector(".gvideo-wrapper");t&&(e=t.getAttribute("data-index"))}console.log("stopSlideVideo is deprecated, use slidePlayerPause");var s=this.getSlidePlayerInstance(e);s&&s.playing&&s.pause()}},{key:"slidePlayerPause",value:function(e){if(X(e)){var t=e.querySelector(".gvideo-wrapper");t&&(e=t.getAttribute("data-index"))}var s=this.getSlidePlayerInstance(e);s&&s.playing&&s.pause()}},{key:"playSlideVideo",value:function(e){if(X(e)){var t=e.querySelector(".gvideo-wrapper");t&&(e=t.getAttribute("data-index"))}console.log("playSlideVideo is deprecated, use slidePlayerPlay");var s=this.getSlidePlayerInstance(e);s&&!s.playing&&s.play()}},{key:"slidePlayerPlay",value:function(e){var t;if(!be||null!==(t=this.settings.plyr.config)&&void 0!==t&&t.muted){if(X(e)){var s=e.querySelector(".gvideo-wrapper");s&&(e=s.getAttribute("data-index"))}var r=this.getSlidePlayerInstance(e);r&&!r.playing&&(r.play(),this.settings.autofocusVideos&&r.elements.container.focus())}}},{key:"setElements",value:function(e){var t=this;this.settings.elements=!1;var s=[];e&&e.length&&x(e,function(r,a){var l=new Q(r,t,a),o=l.getConfig(),h=D({},o);h.slideConfig=o,h.instance=l,h.index=a,s.push(h)}),this.elements=s,this.lightboxOpen&&(this.slidesContainer.innerHTML="",this.elements.length&&(x(this.elements,function(){var r=B(t.settings.slideHTML);t.slidesContainer.appendChild(r)}),this.showSlide(0,!0)))}},{key:"getElementIndex",value:function(e){var t=!1;return x(this.elements,function(s,r){if(w(s,"node")&&s.node==e)return t=r,!0}),t}},{key:"getElements",value:function(){var e=this,t=[];this.elements=this.elements?this.elements:[],!P(this.settings.elements)&&ge(this.settings.elements)&&this.settings.elements.length&&x(this.settings.elements,function(a,l){var o=new Q(a,e,l),h=o.getConfig(),d=D({},h);d.node=!1,d.index=l,d.instance=o,d.slideConfig=h,t.push(d)});var s=!1;return this.getSelector()&&(s=document.querySelectorAll(this.getSelector())),s&&x(s,function(a,l){var o=new Q(a,e,l),h=o.getConfig(),d=D({},h);d.node=a,d.index=l,d.instance=o,d.slideConfig=h,d.gallery=a.getAttribute("data-gallery"),t.push(d)}),t}},{key:"getGalleryElements",value:function(e,t){return e.filter(function(s){return s.gallery==t})}},{key:"getSelector",value:function(){return!this.settings.elements&&(this.settings.selector&&"data-"==this.settings.selector.substring(0,5)?"*[".concat(this.settings.selector,"]"):this.settings.selector)}},{key:"getActiveSlide",value:function(){return this.slidesContainer.querySelectorAll(".gslide")[this.index]}},{key:"getActiveSlideIndex",value:function(){return this.index}},{key:"getAnimationClasses",value:function(){var e=[];for(var t in this.settings.cssEfects)if(this.settings.cssEfects.hasOwnProperty(t)){var s=this.settings.cssEfects[t];e.push("g".concat(s.in)),e.push("g".concat(s.out))}return e.join(" ")}},{key:"build",value:function(){var e=this;if(this.built)return!1;var t=document.body.childNodes,s=[];x(t,function(u){u.parentNode==document.body&&"#"!==u.nodeName.charAt(0)&&u.hasAttribute&&!u.hasAttribute("aria-hidden")&&(s.push(u),u.setAttribute("aria-hidden","true"))});var r=w(this.settings.svg,"next")?this.settings.svg.next:"",a=w(this.settings.svg,"prev")?this.settings.svg.prev:"",l=w(this.settings.svg,"close")?this.settings.svg.close:"",o=this.settings.lightboxHTML;o=B(o=(o=(o=o.replace(/{nextSVG}/g,r)).replace(/{prevSVG}/g,a)).replace(/{closeSVG}/g,l)),document.body.appendChild(o);var h=document.getElementById("glightbox-body");this.modal=h;var d=h.querySelector(".gclose");this.prevButton=h.querySelector(".gprev"),this.nextButton=h.querySelector(".gnext"),this.overlay=h.querySelector(".goverlay"),this.loader=h.querySelector(".gloader"),this.slidesContainer=document.getElementById("glightbox-slider"),this.bodyHiddenChildElms=s,this.events={},g(this.modal,"glightbox-"+this.settings.skin),this.settings.closeButton&&d&&(this.events.close=M("click",{onElement:d,withCallback:function(c,f){c.preventDefault(),e.close()}})),d&&!this.settings.closeButton&&d.parentNode.removeChild(d),this.nextButton&&(this.events.next=M("click",{onElement:this.nextButton,withCallback:function(c,f){c.preventDefault(),e.nextSlide()}})),this.prevButton&&(this.events.prev=M("click",{onElement:this.prevButton,withCallback:function(c,f){c.preventDefault(),e.prevSlide()}})),this.settings.closeOnOutsideClick&&(this.events.outClose=M("click",{onElement:h,withCallback:function(c,f){!e.preventOutsideClick&&!k(document.body,"glightbox-mobile")&&!_(c.target,".ginner-container")&&!_(c.target,".gbtn")&&!k(c.target,"gnext")&&!k(c.target,"gprev")&&e.close()}})),x(this.elements,function(u,c){e.slidesContainer.appendChild(u.instance.create()),u.slideNode=e.slidesContainer.querySelectorAll(".gslide")[c]}),Se&&g(document.body,"glightbox-touch"),this.events.resize=M("resize",{onElement:window,withCallback:function(){e.resize()}}),this.built=!0}},{key:"resize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if((e=e||this.activeSlide)&&!k(e,"zoomed")){var t=ce(),s=e.querySelector(".gvideo-wrapper"),r=e.querySelector(".gslide-image"),a=this.slideDescription,l=t.width,o=t.height;if(l<=768?g(document.body,"glightbox-mobile"):S(document.body,"glightbox-mobile"),s||r){var h=!1;if(a&&(k(a,"description-bottom")||k(a,"description-top"))&&!k(a,"gabsolute")&&(h=!0),r)if(l<=768)r.querySelector("img");else if(h){var u=a.offsetHeight,c=r.querySelector("img");c.setAttribute("style","max-height: calc(100vh - ".concat(u,"px)")),a.setAttribute("style","max-width: ".concat(c.offsetWidth,"px;"))}if(s){var f=w(this.settings.plyr.config,"ratio")?this.settings.plyr.config.ratio:"";if(!f){var v=s.clientWidth,E=s.clientHeight,y=v/E;f="".concat(v/y,":").concat(E/y)}var b=f.split(":"),C=this.settings.videosWidth,L=this.settings.videosWidth,I=(L=U(C)||-1!==C.indexOf("px")?parseInt(C):-1!==C.indexOf("vw")?l*parseInt(C)/100:-1!==C.indexOf("vh")?o*parseInt(C)/100:-1!==C.indexOf("%")?l*parseInt(C)/100:parseInt(s.clientWidth))/(parseInt(b[0])/parseInt(b[1]));if(I=Math.floor(I),h&&(o-=a.offsetHeight),L>l||I>o||o<I&&l>L){var N=s.offsetWidth,j=s.offsetHeight,Z=o/j,z={width:N*Z,height:j*Z};s.parentNode.setAttribute("style","max-width: ".concat(z.width,"px")),h&&a.setAttribute("style","max-width: ".concat(z.width,"px;"))}else s.parentNode.style.maxWidth="".concat(C),h&&a.setAttribute("style","max-width: ".concat(C,";"))}}}}},{key:"reload",value:function(){this.init()}},{key:"updateNavigationClasses",value:function(){var e=this.loop();S(this.nextButton,"disabled"),S(this.prevButton,"disabled"),0==this.index&&this.elements.length-1==0?(g(this.prevButton,"disabled"),g(this.nextButton,"disabled")):0!==this.index||e?this.index===this.elements.length-1&&!e&&g(this.nextButton,"disabled"):g(this.prevButton,"disabled")}},{key:"loop",value:function(){var e=w(this.settings,"loopAtEnd")?this.settings.loopAtEnd:null;return w(this.settings,"loop")?this.settings.loop:e}},{key:"close",value:function(){var e=this;if(!this.lightboxOpen){if(this.events){for(var t in this.events)this.events.hasOwnProperty(t)&&this.events[t].destroy();this.events=null}return!1}if(this.closing)return!1;this.closing=!0,this.slidePlayerPause(this.activeSlide),this.fullElementsList&&(this.elements=this.fullElementsList),this.bodyHiddenChildElms.length&&x(this.bodyHiddenChildElms,function(s){s.removeAttribute("aria-hidden")}),g(this.modal,"glightbox-closing"),W(this.overlay,"none"==this.settings.openEffect?"none":this.settings.cssEfects.fade.out),W(this.activeSlide,this.settings.cssEfects[this.settings.closeEffect].out,function(){if(e.activeSlide=null,e.prevActiveSlideIndex=null,e.prevActiveSlide=null,e.built=!1,e.events){for(var s in e.events)e.events.hasOwnProperty(s)&&e.events[s].destroy();e.events=null}var r=document.body;S(we,"glightbox-open"),S(r,"glightbox-open touching gdesc-open glightbox-touch glightbox-mobile gscrollbar-fixer"),e.modal.parentNode.removeChild(e.modal),e.trigger("close"),p(e.settings.onClose)&&e.settings.onClose();var a=document.querySelector(".gcss-styles");a&&a.parentNode.removeChild(a),e.lightboxOpen=!1,e.closing=null})}},{key:"destroy",value:function(){this.close(),this.clearAllEvents(),this.baseEvents&&this.baseEvents.destroy()}},{key:"on",value:function(e,t){var s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!e||!p(t))throw new TypeError("Event name and callback must be defined");this.apiEvents.push({evt:e,once:s,callback:t})}},{key:"once",value:function(e,t){this.on(e,t,!0)}},{key:"trigger",value:function(e){var t=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=[];x(this.apiEvents,function(a,l){var h=a.once;a.evt==e&&((0,a.callback)(s),h&&r.push(l))}),r.length&&x(r,function(a){return t.apiEvents.splice(a,1)})}},{key:"clearAllEvents",value:function(){this.apiEvents.splice(0,this.apiEvents.length)}},{key:"version",value:function(){return"3.1.0"}}]),n}();return function je(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=new Ge(n);return i.init(),i}});